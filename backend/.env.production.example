# Dream API 生产环境配置模板
# 复制此文件为 .env.production 并填写实际值

# ========================================
# 基础配置
# ========================================
NODE_ENV=production
PORT=3000
API_PREFIX=v1

# ========================================
# 数据库配置 (PostgreSQL)
# ========================================
# Docker 部署时使用容器名 postgres
DATABASE_HOST=postgres
DATABASE_PORT=5432
DATABASE_USERNAME=dream_user
DATABASE_PASSWORD=your_strong_database_password
DATABASE_NAME=dream_wechat

# ========================================
# Redis 配置
# ========================================
# Docker 部署时使用容器名 redis
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=

# ========================================
# JWT 认证
# ========================================
# 务必使用强密钥，至少 32 字符
JWT_SECRET=your-very-long-and-secure-jwt-secret-key-change-this
JWT_EXPIRATION=7d

# ========================================
# 微信配置
# ========================================
WECHAT_APPID=your_wechat_appid
WECHAT_SECRET=your_wechat_secret

# 微信支付（可选）
WECHAT_PAY_MCH_ID=
WECHAT_PAY_KEY=
WECHAT_PAY_NOTIFY_URL=https://api.yourdomain.com/v1/orders/payment-callback
WECHAT_PAY_CERT_PATH=
WECHAT_PAY_KEY_PATH=

# ========================================
# 第三方 AI 服务
# ========================================
THIRD_PARTY_API_BASE_URL=https://ai-service.example.com
THIRD_PARTY_API_KEY=your_third_party_api_key

# ========================================
# Cloudflare R2 存储
# ========================================
R2_ACCOUNT_ID=your_r2_account_id
R2_ACCESS_KEY_ID=your_r2_access_key
R2_SECRET_ACCESS_KEY=your_r2_secret_key
R2_BUCKET_NAME=dream-assets
R2_PUBLIC_BASE_URL=https://assets.yourdomain.com

# ========================================
# 管理员配置
# ========================================
# 用于访问管理员 API
ADMIN_API_KEY=your_secure_admin_api_key

# ========================================
# 每日生成限额
# ========================================
GENERATION_DAILY_LIMIT_NORMAL=2
GENERATION_DAILY_LIMIT_VIP=20
GENERATION_DAILY_LIMIT_SVIP=100

# ========================================
# 短信服务
# ========================================
# mock = 开发模式（不实际发送）
# aliyun = 阿里云短信服务
SMS_MODE=aliyun
ALIYUN_SMS_ACCESS_KEY_ID=your_aliyun_access_key
ALIYUN_SMS_ACCESS_KEY_SECRET=your_aliyun_secret_key
ALIYUN_SMS_SIGN_NAME=你的签名
ALIYUN_SMS_TEMPLATE_CODE=SMS_123456789

# ========================================
# 安全配置
# ========================================
# 生产环境设置为你的域名
CORS_ORIGIN=https://yourdomain.com

# 限流配置
THROTTLE_TTL=60
THROTTLE_LIMIT=100
